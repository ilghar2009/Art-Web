<?phpnamespace App\Http\Controllers;use App\Models\Category;use Illuminate\Http\Request;use Illuminate\Support\Facades\Storage;class CategoryController extends Controller{    public function index(){        $categories = Category::all();        return view('back.category.index', compact('categories'));    }    public function create(){        return view('back.category.create');    }    public function store(Request $request){        if($request->image) {            $file = $request->image;            $filename = $file->getClientOriginalName();            Storage::disk('public')->put('img/' . $filename, file_get_contents($file));            $fileUrl = Storage::disk('public')->url('img/' . $filename);        }        Category::create([           'title' => $request->title,           'image' => '/storage/img/'.$filename??null,           'description' => $request->description??null,        ]);        return redirect()->route('category.index');    }    public function edit(Category $category){        return view('back.category.edit', compact('category'));    }    public function update(Request $request, Category $category){        if($request->image) {            $file = $request->image;            $filename = $file->getClientOriginalName();            Storage::disk('public')->put('img/' . $filename, file_get_contents($file));            $fileUrl = Storage::disk('public')->url('img/' . $filename);        }        $category->update([            'title' => $request->title,            'image' => '/storage/img/'.$filename??$category->image,            'description' => $request->description??$category->description,        ]);        return redirect()->route('category.index');    }    public function destroy(Category $category){        $category->delete();        return redirect()->route('category.index');    }}